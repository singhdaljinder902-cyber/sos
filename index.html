<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Safe Sakhi Smart + AI</title>

<style>
body{
font-family: Arial;
background:#fff0f5;
text-align:center;
margin:0;
}

.header{
background:#ff4d6d;
color:white;
padding:15px;
font-size:22px;
}

.status{
margin-top:10px;
font-size:18px;
}

.box{
margin-top:20px;
}

input{
padding:10px;
width:70%;
font-size:16px;
border-radius:8px;
border:1px solid #ccc;
}

.save-btn{
margin-top:10px;
padding:10px 20px;
border:none;
border-radius:10px;
background:#ff758f;
color:white;
font-size:16px;
}

.sos-btn{
margin-top:30px;
width:170px;
height:170px;
border-radius:50%;
border:none;
background:red;
color:white;
font-size:32px;
font-weight:bold;
box-shadow:0px 0px 20px red;
}

.quick button{
margin:10px;
padding:12px 20px;
font-size:16px;
border:none;
border-radius:10px;
background:#ff758f;
color:white;
}
</style>
</head>

<body>

<div class="header">
ğŸŒ¸ SAFE SAKHI <br>
Smart + AI Safety
</div>

<div class="status" id="status">ğŸŸ¢ Status: Safe</div>

<div class="box">
<h3>Add Trusted Contact</h3>
<input type="number" id="trustedNumber" placeholder="Enter Number with Country Code (91XXXXXXXXXX)">
<br>
<button class="save-btn" onclick="saveNumber()">Save Contact</button>
<p id="savedMsg"></p>
</div>

<button class="sos-btn" onclick="startSOS()">SOS</button>

<div class="quick">
<button onclick="callTrusted()">ğŸ“ Call Trusted</button>
<button onclick="whatsappHelp()">ğŸ’¬ WhatsApp Help</button>
<button onclick="shareLocation()">ğŸ“ Share Location</button>
</div>

<script>

// ===== AI NIGHT ALERT =====
function checkNight(){
let hour=new Date().getHours();
if(hour>=22 || hour<=6){
document.getElementById("status").innerHTML=
"ğŸŒ™ Night Travel Detected â€” Stay Alert";
}
}
checkNight();


// ===== SAVE NUMBER =====
function saveNumber(){
let num=document.getElementById("trustedNumber").value;
localStorage.setItem("trustedNumber",num);
document.getElementById("savedMsg").innerHTML="âœ… Contact Saved";
}


// ===== GET SAVED NUMBER =====
function getNumber(){
return localStorage.getItem("trustedNumber");
}


// ===== SOS =====
function startSOS(){

let num=getNumber();

if(!num){
alert("Please Save Trusted Number First");
return;
}

// Call 112
window.location.href="tel:112";

// Send Location WhatsApp
shareLocation();

alert("SOS Activated!");

}


// ===== CALL TRUSTED =====
function callTrusted(){
let num=getNumber();
if(num){
window.location.href="tel:"+num;
}else{
alert("Save Trusted Number First");
}
}


// ===== WHATSAPP HELP =====
function whatsappHelp(){
let num=getNumber();
if(num){
window.open("https://wa.me/"+num+"?text=Help%20Needed%20Safe%20Sakhi");
}else{
alert("Save Trusted Number First");
}
}


// ===== LOCATION SHARE =====
function shareLocation(){

let num=getNumber();
if(!num){
alert("Save Trusted Number First");
return;
}

if(navigator.geolocation){
navigator.geolocation.getCurrentPosition(function(pos){

let lat=pos.coords.latitude;
let lon=pos.coords.longitude;

let mapLink="https://www.google.com/maps?q="+lat+","+lon;

let waLink=
"https://wa.me/"+num+
"?text=Emergency%20Location:%20"+mapLink;

window.open(waLink);

});
}else{
alert("Location Not Supported");
}

}

</script>

</body>
</html>
